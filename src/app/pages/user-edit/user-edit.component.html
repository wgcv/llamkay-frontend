<app-menubar></app-menubar>

<div class="container">
        <div class="columns is-desktop">
        <div class="column is-8 is-offset-2">
            <form #form="ngForm" (ngSubmit)="submitUpdate(form)" >
            <div class="notification">
                <h2 class="has-text-centered title">Editar colaborador</h2>
                <div class="field">
                    <p class="control has-icons-left has-icons-right">
                        <input class="input" [class.is-danger]="(firstname.invalid && (firstname.dirty || firstname.touched))" [(ngModel)]="user.firstname" name="firstname"  type="text" #firstname="ngModel" placeholder="Nombre *" [ngModelOptions]="{updateOn: 'blur'}" required>
                        <span class="icon is-small is-left">
                            <i class="far fa-user-circle"></i>
                        </span>
                    </p>
                    <div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)" class="alert alert-danger">
                        <p class="help is-danger"  *ngIf="firstname.errors?.required">
                            Es necesario un nombre
                            </p>
                    </div>
                </div>
                <div class="field">
                    <p class="control has-icons-left has-icons-right">
                        <input class="input" [class.is-danger]="(lastname.invalid && (lastname.dirty || lastname.touched))" [(ngModel)]="user.lastname" name="lastname"  type="text" #lastname="ngModel" placeholder="Apeliido *" [ngModelOptions]="{updateOn: 'blur'}" required>
                        <span class="icon is-small is-left">
                            <i class="far fa-id-card"></i>
                        </span>
                    </p>
                    <div *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)" class="alert alert-danger">
                        <p class="help is-danger"  *ngIf="lastname.errors?.required">
                            Es necesario un apellido
                            </p>
                    </div>
                </div>
                <div class="field">
                    <p class="control has-icons-left has-icons-right">
                        <input class="input" [class.is-danger]="(email.invalid && (email.dirty || email.touched))" [(ngModel)]="user.email" name="email"  type="email" #email="ngModel" placeholder="Correo electr贸nico *" [ngModelOptions]="{updateOn: 'blur'}" pattern='^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$' required>
                        <span class="icon is-small is-left">
                            <i class="fas fa-envelope"></i>
                        </span>
                    </p>
                    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
                        <p class="help is-danger"  *ngIf="email.errors?.required">
                            Es necesario un correo electr贸nico
                        </p>
                        <p class="help is-danger"  *ngIf="email.errors?.pattern">
                            El correo electr贸nico no es correcto
                        </p>
                    </div>
                </div>
                <div class="field">
                    <p class="control has-icons-left has-icons-right">
                        <input class="input" [(ngModel)]="user.department" name="department"  type="text" #department="ngModel" placeholder="Departamento">
                        <span class="icon is-small is-left">
                            <i class="fas fa-users"></i>
                        </span>
                    </p>
                </div>
                <div class="field">
                    <p class="control has-icons-left has-icons-right">
                        <input class="input" [(ngModel)]="user.position" name="position"  type="text" #position="ngModel" placeholder="Posici贸n">
                        <span class="icon is-small is-left">
                            <i class="fas fa-tag"></i>
                        </span>
                    </p>
                </div>

                <div class="field has-text-left">
                    <a class="button" [routerLink]="['/user/'+user?._id]">
                        Regresar
                    </a>
                    <button class="button is-primary is-pulled-right" type="submit" [disabled]="!form.valid" #btnLogin>
                        Actualizar
                    </button>
                </div>
                <div id="msgError"></div>
            </div>
            </form>
        </div>
    </div>
</div>
